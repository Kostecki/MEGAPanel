import { Doughnut, mixins } from 'vue-chartjs'

const options = {
  rotation: 1 * Math.PI,
  circumference: 1 * Math.PI,
  cutoutPercentage: 80,
  responsive: true,
  legend: { display: false },
  tooltips: {
    enabled: true,
    mode: 'single',
    callbacks: {
      label: (tooltipItems, data) => {
        const direction = data.labels[tooltipItems.index]
        const value = data.datasets[0].data[tooltipItems.index]
        return `${direction}: ${value} MB`
      }
    }
  }
}

export default {
  extends: Doughnut,
  mixins: [mixins.reactiveProp],
  mounted () {
    this.renderChart(this.chartData, options)
  }
}
